{% extends 'index.html' %}
{% block title %}{{recipe.title}}{% endblock %}

{% block content %}

<div class="columns is-centered">
  <div class="column is-8">
      <h1 class="is-size-3 has-text-centered">
        {{recipe.title}}
      </h1>
  <div class="columns">
    <div class="column is-8">
      <img src="{{recipe.image}}" alt="{{recipe.title}} Photo">
      <div class="columns">
        <div class="column is-4">
          <h1 class="is-size-6"><b>Servings:</b> {{recipe.servings}}
        </div>         
        <div class="column is-8">
          <b>Thyme 2 Cook:</b> {{recipe.readyInMinutes}} minutes&nbsp;&nbsp;&nbsp;&nbsp;</h1><a href="{{url_for('app_meal.print_recipe', meal_id=recipe.id)}}"><i class="fa-solid fa-print" id="print"></i></a>
        </div>
      </div>            
      <br>
      <h1 class="is-size-5"><b>Ingredients</b></h1>
            <ul>
              {% for ingredient in recipe.extendedIngredients %}
                <li>{{ingredient.original}}</li>      
              {% endfor %}
            </ul>

            <br>
            <br>
            <h1 class="is-size-5"><b>Instructions</b></h1>
          <ol>
            {% for step in recipe.analyzedInstructions[0].steps %}
            
            <li>{{step.step}}</li>
            {% endfor %}
          </ol>
  
  </div>
  <div class="column is-4">
          <img src="{{nutrition}}" alt="Nutrition Label">
</div>
</div>


</div>
  </div>



<h1 class="is-size-4">Like this recipe? Try these too!</h1>
  
<div class="columns is-multiline" id="results">
{% for meal in similar %}
  <div class="column is-one-quarter-desktop is-one-quarter-widescreen is-one-third-tablet">
    <div class="card">
      <div class="card-image">
        <figure class="image is-4by3">
          <a href="/meals/recipe/{{meal.id}}">
            <img src="{{meal.image}}" alt="{{meal.title}} image">
          </a>
        </figure>
      </div>

      <div class="card-header">
        <div class="card-header-title">
          <div class="columns">
            <div class="column is-three-quarters">
              <a href="/meals/recipe/{{meal.id}}"><p style="font-size: 1rem;">{{meal.title}}</p></a>
            </div>
            <div class="column is-one-quarter button-location">
              {% if g.user %}
                {% if meal.id in g.user.favorites %}
                  <a id="remove-button" class="buttons is-align-content-flex-end"><i class="fa-solid fa-heart" data-meal_id=${meal.id}></i></a>
                {% else %}
                  <a id="save-button" class="buttons is-align-content-flex-end"><i class="fa-regular fa-heart" data-meal_id=${meal.id}></i></a>
                {% endif %}
              {% endif %}

            </div>
          </div>
        </div>

      </div>

    </div>
  </div>
{% endfor %}
</div>



  <!-- My JavaScript -->
<script src="../../../static/js/showRecipe.js"></script>
{% endblock %}